
schema: EconSchema
params:
- {name: op1, value: 0.15}
- {name: op2, value: 0.1}
- {name: ops, value: 0.2}
- {name: num, value: 500, min: 100, max: 1000, round: 50}
- {name: p, value: 4, min: 1, max: 10}
- {name: showCS, value: false}
- {name: a, value: 20, min: 10, max: 30}
- {name: b, value: 1, min: 0.5, max: 1.5, round: 0.1}
- {name: c1, value: 1, min: 0, max: 4, round: 0.5}
- {name: c2, value: 1, min: 0, max: 4, round: 0.5}

calcs:
  d: (12-params.p)/4
  D: (calcs.d*params.num)
  cs: ( -(params.p) + 12 ) * (calcs.d)/2
  cstot: ( -(params.p) + 12 ) * (calcs.d)/2
  nash1: (params.a+params.c2-2*params.c1)/(3*params.b)
  nash2: (params.a+params.c1-2*params.c2)/(3*params.b)

#aspectRatio: 1

layout:
  OneGraphPlusSidebar:
    graph:
      xAxis:
        ticks: 5
        max: 30
        title: " $ Q_1 $ " 
      yAxis:
        max: 30
        ticks: 5
        title: " $ Q_2 $ "
      objects:

# BR1
      - Line:
          point: [calcs.nash1, calcs.nash2]
          slope: -2
          color: Blue
          strokeWidth: 1.5

# BR2
      - Line:
          point: [calcs.nash1, calcs.nash2]
          slope: -0.5
          color: Red
          strokeWidth: 1.5

# equilibrium
      - Point:
          coordinates: [calcs.nash1, calcs.nash2]
          droplines:
            horizontal: calcs.nash2.toFixed(2)
            vertical: calcs.nash1.toFixed(2)
          color: Green

    sidebar:
      controls:
      - title: Domanda individuale e di mercato per un bene perfettamente divisibile
#        checkboxes:
#        - param: showCS
#          label: "\\text{Mostra e calcola surplus dei consumatori.}"
        sliders:
        - param: a
          label: a
        - param: b
          label: b
        - param: c1
          label: c_1
        - param: c2
          label: c_2
        divs:
        - html: "`Il surplus del singolo consumatore (area azzurra nel grafico di sinistra) è pari a
                  $ ${calcs.cs} $.
        Il surplus totale dei consumatori (area azzurra nel grafico di destra) è pari a
                  $ ${params.num * calcs.cstot} $.`"
          show: params.showCS == true
